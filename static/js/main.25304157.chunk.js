(this["webpackJsonpcovi-z"]=this["webpackJsonpcovi-z"]||[]).push([[0],{55:function(n,e,t){n.exports=t(63)},60:function(n,e,t){},61:function(n,e,t){},63:function(n,e,t){"use strict";t.r(e);var i,o=t(1),a=t.n(o),r=t(28),c=t.n(r),s=(t(60),t(61),t(29)),d=t(30),u=t(33),l=t(31),f=t(34),h=t(0),m=t(32),v=t.n(m),g=["ricoverati_con_sintomi","terapia_intensiva","isolamento_domiciliare","dimessi_guariti","deceduti"],p={ricoverati_con_sintomi:"\ud83c\udf3a",terapia_intensiva:"\ud83d\udc90",isolamento_domiciliare:"\ud83c\udf40",dimessi_guariti:"\ud83c\udf3c",deceduti:"\ud83c\udf38"},w=h.d().stop(),_=function(n){function e(n){var t;return Object(s.a)(this,e),(t=Object(u.a)(this,Object(l.a)(e).call(this,n))).state={data:[]},t}return Object(f.a)(e,n),Object(d.a)(e,[{key:"_setRef",value:function(n){this._rootNode=n}},{key:"componentDidMount",value:function(){var n=this;h.a("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-regioni/dpc-covid19-ita-regioni.csv").then((function(e){var t=h.h().key((function(n){return n.data})).entries(e),o=t[t.length-1].values;console.log(o);var a=[];i=h.g().fitSize([window.innerWidth-200,window.innerHeight-200],n._rootNode).translate([window.innerWidth/2,window.innerHeight/2]).scale(3e3).center([12.368775000000001,42.9451139]),o.forEach((function(n){var e=i([n.long,n.lat]);n.x=e[0],n.y=e[1]}));for(var r=0;r<o.length;++r)g.forEach((function(n){for(var e=0;e<o[r][n];++e){var t={category:n,denominazione_regione:o[r].denominazione_regione,date:o[r].data,x:o.find((function(n){return n.denominazione_regione===o[r].denominazione_regione})).x,y:o.find((function(n){return n.denominazione_regione===o[r].denominazione_regione})).y};a.push(t)}}));n.setState({raw_data:o,data:a},(function(){var e=h.i(n._rootNode),t=e.append("g");e.call(h.j().extent([[0,0],[window.innerWidth,window.innerHeight]]).scaleExtent([1,20]).on("zoom",(function(){t.attr("transform",h.b.transform)})));var i=t.selectAll("text").data(n.state.data).enter().append("text").attr("font-size","1px").text((function(n){return p[n.category]}));w.nodes(a).on("tick",(function(){document.title=w.alpha().toFixed(4)})).force("x",h.e((function(n){return n.x}))).force("y",h.f((function(n){return n.y}))).force("collision",h.c(.35)).alphaDecay(.005).alpha(1).on("end",(function(){if(i.attr("x",(function(n){return n.x})).attr("y",(function(n){return n.y})),console.log("ended",a),window.confirm("\ud83c\udf3a\ud83c\udf3f\u2618\ufe0f\ud83c\udf3c\ud83c\udf38 download spatialized data?")){var n=new Blob([JSON.stringify(a)],{type:"application/json;charset=utf-8"});v.a.saveAs(n,"data covi-z.json")}})).restart()}))}))}},{key:"render",value:function(){return console.log(this.state.data),a.a.createElement("svg",{ref:this._setRef.bind(this),style:{width:"100%",height:"100%"}})}}]),e}(o.Component);var y=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.25304157.chunk.js.map